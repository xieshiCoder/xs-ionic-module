/**
 * Created by xieshi on 2017/5/13.
 * 列表图片懒加载
 * 当滚动停止并且图片滚动进入可视区域内，对图片进行显示，否则不显示
 * 注意：
 *   1、此指令依附于ionContent或者ionScroll，并且需要设置delegate-handle来确定是哪个列表
 *   2、需要对ionContent或者ionScroll设置滚动完成回调onScrollComplete，并广播事件'xsImg.LoadImg'
 *   3、xsImg必须设置宽高
 *
 */
function xsImgLazyLoad($ionicScrollDelegate,$timeout){
    return {
        scope : {},
        template :
            `<img ng-src="{{vm.src}}" xs-error-src>
                <div class="xs-lazy-load">
                    <div class="xs-lazy-rond">
                        <div class="xs-lazy-test"></div>
                    </div>
                    <span></span>
                </div>`,
        link: function(scope, element, attrs) {
            let vm = scope.vm = {};
            scope.$on('xsImg.LoadImg',lazyLoad)
            function lazyLoad(event,data){
                let eleTop = element[0].offsetTop;
                eleTop = eleTop<0?0-eleTop:eleTop;
                let eleHeight = element[0].offsetHeight + eleTop;
                let containerHeight = $ionicScrollDelegate.$getByHandle(attrs.delegateHandle).getScrollView().__container.clientHeight;
                let containerOffsetTop = $ionicScrollDelegate.$getByHandle(attrs.delegateHandle).getScrollPosition().top;
                containerOffsetTop = containerOffsetTop<0?0-containerOffsetTop:containerOffsetTop;
                if((containerOffsetTop <= eleTop && eleTop < (containerOffsetTop+containerHeight)) || (containerOffsetTop <= eleHeight && eleHeight < (containerOffsetTop+containerHeight))){
                    $timeout(function() {
                        vm.src = attrs.imgUrl;
                        angular.element(element[0]).addClass('active');
                    },100)

                }
            }
            $timeout(function() {
                lazyLoad();
            },100)

        }

    }
}
xsImgLazyLoad.$inject = ['$ionicScrollDelegate','$timeout'];

function xsErrorSrc() {
    return {
        link: function(scope, element, attrs) {
            attrs.xsErrorSrc = attrs.xsErrorSrc || 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAANwAAADcCAIAAACUOFjWAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA3FpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNS1jMDE0IDc5LjE1MTQ4MSwgMjAxMy8wMy8xMy0xMjowOToxNSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDozZWNhYjM5My04OWVlLWNlNGYtOTk3Mi1mNjA3Y2JlZDA2NTMiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6MkY2MDc0NzQyOEJEMTFFNzgxNDFBNTZCMzQzRkRFMzYiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MkY2MDc0NzMyOEJEMTFFNzgxNDFBNTZCMzQzRkRFMzYiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOmIxMDQ0YzFmLTM5OGUtM2Y0Ni1hNDZiLTY2ZWFhZGZkOTk1MiIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDozZWNhYjM5My04OWVlLWNlNGYtOTk3Mi1mNjA3Y2JlZDA2NTMiLz4gPC9y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';
            element.bind('error', function() {
                if (attrs.src != attrs.xsErrorSrc) {
                    attrs.$set('src', attrs.xsErrorSrc);
                }
            });
        }
    }
}

xsErrorSrc.$inject = [];

module.exports = angular.module('directive.xsImgLazyLoad',[])
    .directive('xsImgLazyLoad',xsImgLazyLoad)
    .directive('xsErrorSrc', xsErrorSrc)
    .name;
